<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>选手流量数据 - PEL联盟生态数据大屏</title>
    
    <!-- 外部资源 -->
    <link rel="stylesheet" href="vendor/fontawesome/6.5.2/css/all.min.css">
<link rel="stylesheet" href="vendor/fontawesome/6.5.2/css/v4-shims.min.css">
    <script src="js/echarts.min.js"></script>
    
    <!-- 本地样式 -->
    <link rel="stylesheet" href="css/main.css">
    
    <style>
        .traffic-container {
            padding: 24px;
            max-width: 1590px;
            margin: 0 auto;
        }
        
        .page-header {
            margin-bottom: 32px;
        }
        
        .page-title {
            font-size: 32px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 8px 0;
        }
        
        .page-subtitle {
            font-size: 16px;
            color: #C9CDD4;
            margin: 0;
        }
        
        .search-section {
            margin-bottom: 32px;
        }
        
        .search-container {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .search-input {
            background: #2E333B;
            border: 1px solid #4E5969;
            border-radius: 4px;
            padding: 12px 16px;
            color: #FFFFFF;
            font-size: 14px;
            width: 300px;
        }
        
        .search-input::placeholder {
            color: #C9CDD4;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #FF6B35;
        }
        
        .search-btn {
            background: #74B9FF;
            border: none;
            border-radius: 4px;
            padding: 12px 16px;
            color: #FFFFFF;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 48px;
        }
        
        .search-btn:hover {
            background: #5A9FFF;
            transform: translateY(-1px);
        }
        
        .search-btn:active {
            transform: translateY(0);
        }
        
        .player-profile-card {
            background: #2E333B;
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            max-width: 1590px;
            width: 100%;
        }
        
        .player-header {
            display: flex;
            align-items: center;
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .player-avatar-large {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #FF6B35, #FF9500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFFFFF;
            font-size: 24px;
            font-weight: 700;
        }
        
        .player-info-main {
            flex: 1;
        }
        
        .player-name-large {
            font-size: 36px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 8px 0;
        }
        
        .player-badges {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .champion-badge {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1E2329;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .team-badge-large {
            background: #4E5969;
            color: #FFFFFF;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .player-basic-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .info-label {
            font-size: 14px;
            color: #C9CDD4;
        }
        
        .info-value {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
        }
        
        .contract-progress {
            background: #1E2329;
            border-radius: 20px;
            height: 8px;
            overflow: hidden;
            margin-top: 8px;
        }
        
        .contract-progress-bar {
            background: linear-gradient(90deg, #00D4AA, #00B894);
            height: 100%;
            width: 60%;
            border-radius: 20px;
        }
        
        .rating-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .rating-score {
            font-size: 48px;
            font-weight: 700;
            color: #FFFFFF;
        }
        
        .rating-stars {
            display: flex;
            gap: 4px;
        }
        
        .star {
            color: #FFD700;
            font-size: 20px;
        }
        
        .traffic-section {
            background: #2E333B;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            max-width: 1590px;
            width: 100%;
        }
        
        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #FFFFFF;
            margin: 0 0 24px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-icon {
            color: #FF6B35;
            font-size: 24px;
        }
        
        .fans-overview {
            background: #1E2329;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
        }
        
        .fans-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .fans-title {
            font-size: 16px;
            color: #C9CDD4;
            margin: 0;
        }
        
        .fans-chart {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
        }
        
        .fans-platforms {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .platform-tag {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .platform-weibo {
            background: #E6162D;
            color: #FFFFFF;
        }
        
        .platform-douyin {
            background: #000000;
            color: #FFFFFF;
        }
        
        .platform-kuaishou {
            background: #FF6600;
            color: #FFFFFF;
        }
        
        .fans-total {
            text-align: center;
        }
        
        .fans-number {
            font-size: 32px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0;
        }
        
        .growth-data {
            background: #2E333B;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .growth-table-container {
            background: #1E2329;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .growth-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .growth-table th {
            background: #2E333B;
            color: #FFFFFF;
            font-weight: 600;
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid #4E5969;
        }
        
        .growth-table td {
            padding: 16px;
            border-bottom: 1px solid #4E5969;
            color: #FFFFFF;
        }
        
        .growth-table tr:hover {
            background: rgba(255, 107, 53, 0.1);
        }
        
        .growth-positive {
            color: #00D4AA;
        }
        
        .growth-negative {
            color: #FF6B6B;
        }
        
        .growth-neutral {
            color: #C9CDD4;
        }
        
        .platform-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        
        .platform-card {
            background: #1E2329;
            border-radius: 8px;
            padding: 20px;
        }
        
        .platform-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .platform-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFFFFF;
            font-size: 14px;
            font-weight: 600;
        }
        
        .platform-name {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
            margin: 0;
        }
        
        .platform-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .metric-item {
            text-align: center;
        }
        
        .metric-label {
            font-size: 12px;
            color: #C9CDD4;
            margin-bottom: 4px;
        }
        
        .metric-value {
            font-size: 18px;
            font-weight: 700;
            color: #FFFFFF;
        }
        
        @media (max-width: 768px) {
            .player-header {
                flex-direction: column;
                text-align: center;
            }
            
            .player-basic-info {
                grid-template-columns: 1fr;
            }
            
            .platform-stats {
                grid-template-columns: 1fr;
            }
            
            .growth-table {
                font-size: 12px;
            }
            
            .growth-table th,
            .growth-table td {
                padding: 8px;
            }
        }

        /* 新增：从player-overview.html复制的样式 */
        .content-layout {
            display: grid;
            grid-template-columns: 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        .trend-stream-layout .filter-controls { 
            flex-wrap: wrap; 
        }

        .left-content {
            background: #2a2d3a;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #3a3d4a;
            min-height: 620px;
        }

        /* 流量数据仪表板样式 */
        .traffic-section { 
            margin-bottom: 20px; 
        }
        
        .traffic-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 16px; 
        }
        
        .traffic-selector { 
            background: #3a3d4a; 
            border: 1px solid #4a4d5a; 
            border-radius: 6px; 
            padding: 6px 12px; 
            color: #E5E6EB; 
            font-size: 14px; 
        }
        
        .traffic-dashboard { 
            display: grid; 
            grid-template-columns: 1fr 2fr; 
            gap: 20px; 
            margin-bottom: 20px; 
        }
        
        .fans-chart-container { 
            background: #3a3d4a; 
            border-radius: 8px; 
            padding: 16px; 
            text-align: center; 
        }
        
        .fans-total { 
            font-size: 24px; 
            font-weight: bold; 
            color: #E5E6EB; 
            margin-bottom: 8px; 
        }
        
        .fans-label { 
            font-size: 12px; 
            color: #9CA3AF; 
            margin-bottom: 16px; 
        }
        
        .chart-placeholder { 
            width: 120px; 
            height: 120px; 
            margin: 0 auto 12px; 
            background: conic-gradient(#00D4AA 0deg 180deg, #8B5CF6 180deg 270deg, #60A5FA 270deg 360deg); 
            border-radius: 50%; 
            position: relative; 
        }
        
        .chart-placeholder::after { 
            content: ''; 
            position: absolute; 
            top: 30px; 
            left: 30px; 
            width: 60px; 
            height: 60px; 
            background: #3a3d4a; 
            border-radius: 50%; 
        }
        
        .platform-legends { 
            display: flex; 
            justify-content: center; 
            gap: 16px; 
            font-size: 12px; 
        }
        
        .legend-item { 
            display: flex; 
            align-items: center; 
            gap: 4px; 
        }
        
        .legend-color { 
            width: 12px; 
            height: 12px; 
            border-radius: 2px; 
        }
        
        .legend-weibo { 
            background: #00D4AA; 
        }
        
        .legend-douyin { 
            background: #8B5CF6; 
        }
        
        .legend-kuaishou { 
            background: #60A5FA; 
        }
        
        .fans-table-container { 
            background: #3a3d4a; 
            border-radius: 8px; 
            padding: 16px; 
        }
        
        .table-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 12px; 
        }
        
        .table-title { 
            font-size: 14px; 
            color: #E5E6EB; 
            font-weight: 500; 
        }
        
        .date-filter { 
            background: #4a4d5a; 
            border: 1px solid #5a5d6a; 
            border-radius: 4px; 
            padding: 4px 8px; 
            color: #E5E6EB; 
            font-size: 12px; 
        }
        
        .fans-table { 
            width: 100%; 
            border-collapse: collapse; 
        }
        
        .fans-table th, .fans-table td { 
            padding: 8px 12px; 
            text-align: right; 
            border-bottom: 1px solid #4a4d5a; 
        }
        
        .fans-table th { 
            background: #4a4d5a; 
            color: #9CA3AF; 
            font-size: 12px; 
            font-weight: 500; 
        }
        
        .fans-table td { 
            color: #E5E6EB; 
            font-size: 13px; 
        }
        
        .fans-table td:first-child { 
            text-align: left; 
        }
        
        .table-summary { 
            display: flex; 
            justify-content: space-between; 
            margin-top: 12px; 
            padding-top: 8px; 
            border-top: 1px solid #4a4d5a; 
            font-size: 12px; 
            color: #9CA3AF; 
        }

        .chart-container {
            background: #2E333B;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 32px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 20px;
        }
        
        .chart {
            width: 100%;
            height: 400px;
        }

        .filter-controls {
            display: flex;
            gap: 16px;
            align-items: center;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-group span {
            color: #C9CDD4;
            font-size: 14px;
        }

        .filter-select {
            background: #1E2329;
            border: 1px solid #4E5969;
            border-radius: 6px;
            color: #FFFFFF;
            padding: 6px 12px;
            font-size: 14px;
            outline: none;
        }

        .filter-select:focus {
            border-color: #165DFF;
        }

        .toggle-group {
            display: flex;
            gap: 8px;
        }

        .toggle-btn {
            background: #1E2329;
            border: 1px solid #4E5969;
            border-radius: 6px;
            color: #C9CDD4;
            padding: 6px 12px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .toggle-btn:hover {
            border-color: #165DFF;
            color: #FFFFFF;
        }

        .toggle-btn.active {
            background: #165DFF;
            border-color: #165DFF;
            color: #FFFFFF;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            color: #FF6B35;
            font-size: 16px;
        }

        .section-title {
            color: #FFFFFF;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        /* 响应式优化 */
        @media (max-width: 1024px) {
            .chart { 
                height: 320px; 
            }
            
            .traffic-dashboard {
                grid-template-columns: 1fr;
            }
            
            .business-cards-container {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 12px;
            }
            
            .business-card {
                 padding: 14px;
                 max-width: none;
                 min-height: 140px;
             }
        }
        
        @media (max-width: 768px) {
            .chart { 
                height: 280px; 
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .business-cards-container {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .business-card {
                 padding: 12px;
                 min-height: 120px;
             }
        }
    /* 商业价值与收入分析板块样式 */
        .business-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
            margin-bottom: 30px;
            max-width: 100%;
        }

        .business-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            min-height: 140px;
            max-width: 350px;
        }

        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 6px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-header .card-icon {
            color: #4A9EFF;
            margin-right: 8px;
            font-size: 16px;
        }

        .card-title {
            color: #E5E6EB;
            font-size: 13px;
            font-weight: 600;
            flex: 1;
        }

        .card-filter {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #E5E6EB;
            padding: 3px 6px;
            font-size: 10px;
        }

        .card-content {
            color: #E5E6EB;
        }

        .card-stats {
            margin-bottom: 6px;
        }

        .card-summary {
            text-align: center;
            padding-top: 6px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 11px;
            color: #8B949E;
        }

        .stat-item {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .stat-left {
            display: flex;
            flex-direction: column;
        }

        .stat-label {
            font-size: 11px;
            color: #8B949E;
            margin-bottom: 2px;
        }

        .stat-additional {
            font-size: 10px;
            color: #6B7280;
        }

        .stat-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .stat-value {
            font-size: 14px;
            font-weight: 600;
            color: #E5E6EB;
            margin-bottom: 2px;
        }

        .stat-date {
            font-size: 10px;
            color: #6B7280;
        }

        .stat-additional {
            font-size: 14px;
            color: #8B949E;
            margin-bottom: 2px;
        }

        .stat-date {
            font-size: 11px;
            color: #6E7681;
            margin-bottom: 4px;
        }

        .stat-trend {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 4px;
            display: inline-block;
            width: fit-content;
        }

        .stat-trend.positive {
            background: rgba(46, 160, 67, 0.2);
            color: #3FB950;
        }

        .stat-trend.warning {
            background: rgba(187, 128, 9, 0.2);
            color: #D29922;
        }

        .card-summary {
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 14px;
            color: #8B949E;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .summary-total {
            color: #E5E6EB;
            font-weight: 600;
        }

        /* 收入趋势图表区域样式 */
        .revenue-chart-section {
            margin-top: 30px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .chart-title-group {
            display: flex;
            align-items: center;
        }

        .chart-icon {
            color: #4A9EFF;
            margin-right: 10px;
            font-size: 18px;
        }

        .chart-title {
            color: #E5E6EB;
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .chart-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .chart-filter {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #E5E6EB;
            padding: 8px 15px;
            font-size: 14px;
        }

        /* 响应式设计 */
        @media (max-width: 1200px) {
            .business-cards-container {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        @media (max-width: 768px) {
            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .chart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
        }

        </style>
</head>
<body>
    <!-- 顶部导航：由 common.js 动态生成 -->
    <header class="top-nav"></header>

    <!-- 侧边栏导航 -->
    <aside class="sidebar">
        <div class="sidebar-content">
            <div class="sidebar-section">
                <div class="sidebar-section-title">主菜单</div>
                <div class="sidebar-menu">
                    <!-- 联盟生态下拉菜单 -->
                    <div class="sidebar-dropdown">
                        <div class="sidebar-item sidebar-dropdown-toggle">
                            <div style="display: flex; align-items: center;">
                                <i class="fa fa-globe"></i>
                                <span>联盟生态</span>
                            </div>
                        </div>
                        <div class="sidebar-submenu">
                            <a href="alliance-overview.html" class="sidebar-submenu-item">
                                <i class="fa fa-dashboard"></i>
                                <span>联盟生态大盘</span>
                            </a>
                            <div class="sidebar-dropdown">
                                <div class="sidebar-submenu-item sidebar-dropdown-toggle">
                                    <div style="display: flex; align-items: center;">
                                        <i class="fa fa-bar-chart"></i>
                                        <span>联盟生态深度分析</span>
                                    </div>
                                </div>
                                <div class="sidebar-submenu" style="margin-left: 16px;">
                                    <a href="alliance-dimension.html" class="sidebar-submenu-item">
                                        <i class="fa fa-file-text-o"></i>
                                        <span>分析报告</span>
                                    </a>
                                    <a href="alliance-indicators.html" class="sidebar-submenu-item">
                                        <i class="fa fa-line-chart"></i>
                                        <span>细分指标</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <a href="club-overview.html" class="sidebar-item" data-page="club-overview">
                        <i class="fa fa-building"></i>
                        <span>俱乐部生态</span>
                    </a>
                    <a href="player-overview.html" class="sidebar-item active" data-page="player-overview">
                        <i class="fa fa-user-circle-o"></i>
                        <span>选手生态</span>
                    </a>
                    <a href="match-data.html" class="sidebar-item" data-page="match-data">
                        <i class="fa fa-trophy"></i>
                        <span>赛事数据</span>
                    </a>
                    <a href="system-settings.html" class="sidebar-item" data-page="system-settings">
                        <i class="fa fa-cog"></i>
                        <span>系统设置</span>
                    </a>
                    <a href="data-import.html" class="sidebar-item" data-page="data-import">
                        <i class="fa fa-upload"></i>
                        <span>数据导入</span>
                    </a>
                    <a href="import-log.html" class="sidebar-item" data-page="import-log">
                        <i class="fa fa-list-alt"></i>
                        <span>导入日志</span>
                    </a>
                </div>
            </div>
        </div>
    </aside>

    <!-- 主内容区域 -->
    <main class="main-content">
        <div class="traffic-container">
            <!-- 页面标题 -->
            <div class="page-header">
                <h1 class="page-title">选手详情</h1>
                <p class="page-subtitle">全面分析选手竞技表现、商业价值与发展潜力</p>
            </div>

            <!-- 搜索区域 -->
            <div class="search-section">
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="搜索选手..." id="playerSearch">
                    <button class="search-btn" type="button">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>

            <!-- 选手档案卡片 -->
            <div class="player-profile-card">
                <div class="player-header">
                    <div class="player-avatar-large">司马</div>
                    <div class="player-info-main">
                        <h2 class="player-name-large">司马光</h2>
                        <div class="player-badges">
                            <span class="champion-badge">三冠王</span>
                            <span class="team-badge-large">AG</span>
                        </div>
                        <div class="player-basic-info">
                            <div class="info-item">
                                <span class="info-label">俱乐部</span>
                                <span class="info-value">AG战队</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">位置</span>
                                <span class="info-value">突击手</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">年龄</span>
                                <span class="info-value">21岁</span>
                            </div>
                        </div>
                        <div class="info-item">
                            <span class="info-label">合同剩余年限</span>
                            <span class="info-value">1.5年</span>
                        </div>
                        <div class="contract-progress">
                            <div class="contract-progress-bar"></div>
                        </div>
                        <div class="info-item" style="margin-top: 12px;">
                            <span class="info-label">签约日期：2024年3月15日</span>
                        </div>
                    </div>
                    <div class="rating-section">
                        <div>
                            <div class="info-label">综合评分</div>
                            <div class="rating-score">96.8</div>
                            <div class="info-value">S级</div>
                        </div>
                        <div class="rating-stars">
                            <i class="fa fa-star star"></i>
                            <i class="fa fa-star star"></i>
                            <i class="fa fa-star star"></i>
                            <i class="fa fa-star star"></i>
                            <i class="fa fa-star star"></i>
                        </div>
                    </div>
                </div>
            </div>




            <!-- 流量数据板块 -->
            <section class="traffic-section">
                <div class="section-header">
                    <div class="section-title-group">
                        <i class="section-icon fa fa-bar-chart"></i>
                        <h2 class="section-title">流量数据</h2>
                    </div>
                </div>
                <div class="traffic-header">
                    <span style="color: #E5E6EB; font-size: 14px;">正式选手</span>
                </div>
                <div class="traffic-dashboard">
                    <div class="fans-chart-container">
                        <div class="fans-total">234W</div>
                        <div class="fans-label">全网粉丝数量</div>
                        <div class="chart-placeholder"></div>
                        <div class="platform-legends">
                            <div class="legend-item">
                                <div class="legend-color legend-weibo"></div>
                                <span style="color: #E5E6EB;">微博</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color legend-douyin"></div>
                                <span style="color: #E5E6EB;">抖音</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color legend-kuaishou"></div>
                                <span style="color: #E5E6EB;">快手</span>
                            </div>
                        </div>
                    </div>
                    <div class="fans-table-container">
                        <div class="table-header">
                            <span class="table-title">涨粉数据</span>
                            <select class="date-filter">
                                <option>近七日数据</option>
                            </select>
                        </div>
                        <table class="fans-table">
                            <thead>
                                <tr>
                                    <th>日期</th>
                                    <th>抖音涨粉</th>
                                    <th>快手涨粉</th>
                                    <th>微博涨粉</th>
                                    <th>总计涨粉</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>2025-09-30</td><td>1,326</td><td>627</td><td>497</td><td>2,715</td></tr>
                                <tr><td>2025-10-01</td><td>931</td><td>933</td><td>359</td><td>2,401</td></tr>
                                <tr><td>2025-10-02</td><td>528</td><td>451</td><td>181</td><td>1,525</td></tr>
                                <tr><td>2025-10-03</td><td>1,614</td><td>716</td><td>224</td><td>2,824</td></tr>
                                <tr><td>2025-10-04</td><td>814</td><td>312</td><td>346</td><td>1,713</td></tr>
                                <tr><td>2025-10-05</td><td>686</td><td>564</td><td>409</td><td>2,014</td></tr>
                                <tr><td>2025-10-06</td><td>588</td><td>933</td><td>439</td><td>2,216</td></tr>
                            </tbody>
                        </table>
                        <div class="table-summary">
                            <span>总计涨粉: 15,408</span>
                            <span>平均日涨粉: 2,201</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 全网热度与曝光量趋势板块 -->
            <section class="traffic-section">
                <div class="section-header">
                    <div class="section-title-group">
                        <i class="section-icon fa fa-line-chart"></i>
                        <h2 class="section-title">全网热度与曝光量趋势</h2>
                    </div>
                    <div class="filter-controls">
                        <div class="filter-group">
                            <span>时间范围</span>
                            <select id="heatRangeSelect" class="filter-select">
                                <option value="7">近7日</option>
                                <option value="30">近30日</option>
                            </select>
                        </div>
                        <div class="toggle-group">
                            <button id="toggleAllPlatforms" class="toggle-btn active">全量（快手、抖音、微博）</button>
                            <button id="toggleSinglePlatform" class="toggle-btn">单平台</button>
                            <select id="platformSelect" class="filter-select" style="display:none">
                                <option value="kuaishou">快手</option>
                                <option value="douyin">抖音</option>
                                <option value="weibo">微博</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <div id="heatExposureChart" class="chart"></div>
                </div>
            </section>

            <!-- 直播数据（所有选手）板块 -->
            <section class="traffic-section">
                <div class="section-header">
                    <div class="section-title-group">
                        <i class="section-icon fa fa-bar-chart"></i>
                        <h2 class="section-title">直播数据（所有选手）</h2>
                    </div>
                    <div class="filter-controls">
                        <div class="filter-group">
                            <span>时间范围</span>
                            <select id="streamRangeSelect" class="filter-select">
                                <option value="7">近7日</option>
                                <option value="30">近30日</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <span>指标</span>
                            <select id="streamMetricSelect" class="filter-select">
                                <option value="views">观看人数</option>
                                <option value="danmu">弹幕数</option>
                                <option value="gifts">礼物数</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <div id="streamingBarChart" class="chart"></div>
                </div>
            </section>

            <!-- 商业价值与收入分析板块 -->
            <section class="traffic-section">
                <div class="section-header">
                    <div class="section-title-group">
                        <i class="section-icon fa fa-money"></i>
                        <h2 class="section-title">收入趋势与收入分析（万元）</h2>
                    </div>
                </div>
                
                <!-- 数据卡片区域 -->
                <div class="business-cards-container">
                    <!-- 商业价值卡片 -->
                    <div class="business-card">
                        <div class="card-header">
                            <span class="card-title">商业价值</span>
                            <select class="card-filter">
                                <option>近七日数据</option>
                                <option>近30日数据</option>
                            </select>
                        </div>
                        <div class="card-content">
                            <div class="card-stats">
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">利润</div>
                                        <div class="stat-additional">品牌A</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">¥30,000</div>
                                        <div class="stat-date">2025-04-01</div>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">营业</div>
                                        <div class="stat-additional">品牌B</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">¥50,000</div>
                                        <div class="stat-date">2025-04-05</div>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">社交</div>
                                        <div class="stat-additional">品牌C</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">¥20,000</div>
                                        <div class="stat-date">2025-04-10</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-summary">
                                <span>共计 ¥93,333</span>
                            </div>
                        </div>
                    </div>

                    <!-- IP合作明细卡片 -->
                    <div class="business-card">
                        <div class="card-header">
                            <span class="card-title">IP合作明细</span>
                            <select class="card-filter">
                                <option>近七日数据</option>
                                <option>近30日数据</option>
                            </select>
                        </div>
                        <div class="card-content">
                            <div class="card-stats">
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">合作</div>
                                        <div class="stat-additional">品牌D</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">¥80,000</div>
                                        <div class="stat-date">2025-04-02</div>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">整体</div>
                                        <div class="stat-additional">电商</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">¥45,000</div>
                                        <div class="stat-date">2025-04-09</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-summary">
                                <span>共计 ¥62,500</span>
                            </div>
                        </div>
                    </div>

                    <!-- 直播流水明细卡片 -->
                    <div class="business-card">
                        <div class="card-header">
                            <span class="card-title">直播流水明细</span>
                            <select class="card-filter">
                                <option>近七日数据</option>
                                <option>近30日数据</option>
                            </select>
                        </div>
                        <div class="card-content">
                            <div class="card-stats">
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">礼物</div>
                                        <div class="stat-additional">3小时45分</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">25,432</div>
                                        <div class="stat-date">2025-04-03</div>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">打赏</div>
                                        <div class="stat-additional">2小时20分</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">18,765</div>
                                        <div class="stat-date">2025-04-07</div>
                                    </div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-left">
                                        <div class="stat-label">订阅</div>
                                        <div class="stat-additional">1小时10分</div>
                                    </div>
                                    <div class="stat-right">
                                        <div class="stat-value">32,145</div>
                                        <div class="stat-date">2025-04-05</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-summary">
                                <span>共计 ¥24,851</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 收入趋势图表区域 -->
                <div class="revenue-chart-section">
                    <div class="chart-header">
                        <div class="chart-title-group">
                            <h3 class="chart-title">收入趋势与收入分析（万元）</h3>
                        </div>
                        <div class="chart-controls">
                            <select class="chart-filter">
                                <option>近七日数据</option>
                                <option>近30日数据</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div id="revenueAnalysisChart" class="chart"></div>
                    </div>
                </div>
            </section>

        </div>
        </div>
    </main>

    <script>
        // 粉丝分布饼图
        function initOriginalCharts() {
            const fansChartElement = document.getElementById('fansChart');
            if (fansChartElement) {
                const fansChart = echarts.init(fansChartElement);
                const fansOption = {
                    tooltip: {
                        trigger: 'item',
                        formatter: '{a} <br/>{b}: {c}W ({d}%)'
                    },
                    series: [
                        {
                            name: '粉丝分布',
                            type: 'pie',
                            radius: ['40%', '70%'],
                            avoidLabelOverlap: false,
                            label: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                label: {
                                    show: true,
                                    fontSize: '16',
                                    fontWeight: 'bold'
                                }
                            },
                            labelLine: {
                                show: false
                            },
                            data: [
                                {value: 98, name: '抖音', itemStyle: {color: '#000000'}},
                                {value: 89, name: '微博', itemStyle: {color: '#E6162D'}},
                                {value: 47, name: '快手', itemStyle: {color: '#FF6600'}}
                            ]
                        }
                    ]
                };
                fansChart.setOption(fansOption);
                
                // 响应式处理
                window.addEventListener('resize', function() {
                    fansChart.resize();
                });
            }
        }

        // 搜索功能
        function performSearch() {
            const searchTerm = document.getElementById('playerSearch').value.toLowerCase();
            console.log('搜索选手:', searchTerm);
            // 这里可以添加实际的搜索逻辑
        }
        
        // 输入框搜索
        document.getElementById('playerSearch').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            console.log('搜索选手:', searchTerm);
            // 这里可以添加实际的搜索逻辑
        });
        
        // 搜索按钮点击事件
        document.querySelector('.search-btn').addEventListener('click', performSearch);
        
        // 回车键搜索
        document.getElementById('playerSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // 页面加载完成后初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            initOriginalCharts();
            initNewCharts();
        });

        // 初始化原有图表
        function initCharts() {
            // 这个函数已经被initOriginalCharts替代
        }

        // 新增图表初始化函数
        function initNewCharts() {
            // 检查元素是否存在
            const heatExposureElement = document.getElementById('heatExposureChart');
            const streamingBarElement = document.getElementById('streamingBarChart');
            
            if (!heatExposureElement || !streamingBarElement) {
                console.log('新增图表元素未找到，跳过初始化');
                return;
            }

            // 新增：趋势折线与直播柱状图
            const heatExposureChart = echarts.init(heatExposureElement);
            const streamingBarChart = echarts.init(streamingBarElement);

            function genDateLabels(days) {
                const labels = [];
                const now = new Date();
                for (let i = days - 1; i >= 0; i--) {
                    const d = new Date(now);
                    d.setDate(now.getDate() - i);
                    labels.push(`${d.getMonth() + 1}.${d.getDate()}`);
                }
                return labels;
            }
            function mockLine(days, base, swing) {
                const arr = [];
                let v = base;
                for (let i = 0; i < days; i++) {
                    v = v + Math.round(Math.random() * swing - swing / 2);
                    v = Math.max(3, v);
                    arr.push(v);
                }
                return arr;
            }
            function mockBar(days, base, swing) {
                const arr = [];
                for (let i = 0; i < days; i++) {
                    let v = base + Math.round(Math.random() * swing - swing / 2);
                    v = Math.max(0, v);
                    arr.push(v);
                }
                return arr;
            }

            let currentPlatform = null;
            function updateHeatChart({ days, platform }) {
                const xCats = genDateLabels(days);
                let heat = mockLine(days, 26, 6);
                let exposure = mockLine(days, 22, 8);
                let content = mockLine(days, 12, 5);
                if (platform) {
                    const factor = platform === 'douyin' ? 1.12 : (platform === 'kuaishou' ? 1.0 : 0.92);
                    heat = heat.map(x => Math.round(x * factor));
                    exposure = exposure.map(x => Math.round(x * factor * 1.05));
                    content = content.map(x => Math.round(x * factor * 0.95));
                }
                const option = {
                    backgroundColor: 'transparent',
                    tooltip: { trigger: 'axis', axisPointer: { type: 'line' } },
                    legend: { data: ['粉丝总数（万）', '曝光量(万)', '内容数(条)'], textStyle: { color: '#FFFFFF' } },
                    grid: { left: 40, right: 30, top: 24, bottom: 28 },
                    xAxis: { type: 'category', data: xCats, boundaryGap: false, axisLine: { lineStyle: { color: '#4E5969' } }, axisTick: { show: false }, axisLabel: { color: '#C9CDD4' } },
                    yAxis: [
                        { type: 'value', axisLine: { lineStyle: { color: '#4E5969' } }, axisTick: { show: false }, axisLabel: { color: '#C9CDD4' }, splitLine: { lineStyle: { color: '#3A3F47', type: 'dashed' } } },
                        { type: 'value', axisLine: { lineStyle: { color: '#4E5969' } }, axisTick: { show: false }, axisLabel: { color: '#C9CDD4' }, splitLine: { show: false } }
                    ],
                    series: [
                        { name: '粉丝总数（万）', type: 'line', smooth: true, symbol: 'circle', symbolSize: 4, itemStyle: { color: '#4DD4F7' }, lineStyle: { width: 2 }, emphasis: { focus: 'series' }, data: heat },
                        { name: '曝光量(万)', type: 'line', smooth: true, yAxisIndex: 1, symbol: 'circle', symbolSize: 4, itemStyle: { color: '#165DFF' }, lineStyle: { width: 2 }, emphasis: { focus: 'series' }, data: exposure },
                        { name: '内容数(条)', type: 'line', smooth: true, symbol: 'circle', symbolSize: 4, itemStyle: { color: '#FF6B35' }, lineStyle: { width: 2 }, emphasis: { focus: 'series' }, data: content }
                    ]
                };
                heatExposureChart.setOption(option);
            }

            function updateStreamingChart({ days, focus }) {
                const xCats = genDateLabels(days);
                const views = mockBar(days, 9, 4);
                const danmu = mockBar(days, 3, 2);
                const gifts = mockBar(days, 2, 1);
                const toOpacity = (k) => (focus === k ? 1 : 0.55);
                const option = {
                    backgroundColor: 'transparent',
                    tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
                    legend: { data: ['观看人数', '弹幕数', '礼物数'], textStyle: { color: '#FFFFFF' } },
                    grid: { left: 40, right: 30, top: 24, bottom: 30 },
                    xAxis: { type: 'category', data: xCats, axisLine: { lineStyle: { color: '#4E5969' } }, axisTick: { show: false }, axisLabel: { color: '#C9CDD4' } },
                    yAxis: { type: 'value', axisLine: { lineStyle: { color: '#4E5969' } }, axisTick: { show: false }, axisLabel: { color: '#C9CDD4' }, splitLine: { lineStyle: { color: '#3A3F47', type: 'dashed' } } },
                    series: [
                        { name: '观看人数', type: 'bar', data: views, barWidth: 18, barCategoryGap: '35%', barGap: '15%', itemStyle: { color: '#1E9DFB', opacity: toOpacity('views') } },
                        { name: '弹幕数', type: 'bar', data: danmu, barWidth: 18, barCategoryGap: '35%', barGap: '15%', itemStyle: { color: '#0FC6C2', opacity: toOpacity('danmu') } },
                        { name: '礼物数', type: 'bar', data: gifts, barWidth: 18, barCategoryGap: '35%', barGap: '15%', itemStyle: { color: '#F53F3F', opacity: toOpacity('gifts') } }
                    ]
                };
                streamingBarChart.setOption(option);
            }

            // 检查必要的选择器元素是否存在
            const heatRangeSelect = document.getElementById('heatRangeSelect');
            const streamRangeSelect = document.getElementById('streamRangeSelect');
            const streamMetricSelect = document.getElementById('streamMetricSelect');
            
            if (!heatRangeSelect || !streamRangeSelect || !streamMetricSelect) {
                console.log('选择器元素未找到，跳过初始化');
                return;
            }

            // 初始渲染
            updateHeatChart({ days: parseInt(heatRangeSelect.value), platform: currentPlatform });
            updateStreamingChart({ days: parseInt(streamRangeSelect.value), focus: streamMetricSelect.value });

            // 交互 - 趋势区
            heatRangeSelect.addEventListener('change', function() {
                updateHeatChart({ days: parseInt(this.value), platform: currentPlatform });
            });
            const toggleAllBtn = document.getElementById('toggleAllPlatforms');
            const toggleSingleBtn = document.getElementById('toggleSinglePlatform');
            const platformSelect = document.getElementById('platformSelect');
            
            if (toggleAllBtn && toggleSingleBtn && platformSelect) {
                toggleSingleBtn.addEventListener('click', function() {
                    toggleAllBtn.classList.remove('active');
                    toggleSingleBtn.classList.add('active');
                    platformSelect.style.display = 'inline-block';
                    currentPlatform = platformSelect.value;
                    updateHeatChart({ days: parseInt(heatRangeSelect.value), platform: currentPlatform });
                });
                toggleAllBtn.addEventListener('click', function() {
                    toggleSingleBtn.classList.remove('active');
                    toggleAllBtn.classList.add('active');
                    platformSelect.style.display = 'none';
                    currentPlatform = null;
                    updateHeatChart({ days: parseInt(heatRangeSelect.value), platform: currentPlatform });
                });
                platformSelect.addEventListener('change', function() {
                    currentPlatform = platformSelect.value;
                    updateHeatChart({ days: parseInt(heatRangeSelect.value), platform: currentPlatform });
                });
            }

            // 交互 - 直播区
            streamRangeSelect.addEventListener('change', function() {
                updateStreamingChart({ days: parseInt(this.value), focus: streamMetricSelect.value });
            });
            streamMetricSelect.addEventListener('change', function() {
                updateStreamingChart({ days: parseInt(streamRangeSelect.value), focus: this.value });
            });

            // 初始化收入趋势图表
            const revenueChartElement = document.getElementById('revenueAnalysisChart');
            if (revenueChartElement) {
                const revenueChart = echarts.init(revenueChartElement);
                
                // 生成收入趋势数据
                const revenueDays = 7;
                const revenueLabels = genDateLabels(revenueDays);
                const totalRevenue = mockLine(revenueDays, 22, 8); // 总收入
                const giftRevenue = mockLine(revenueDays, 14, 6);  // 礼物收入
                const adRevenue = mockLine(revenueDays, 11, 4);    // IP合作
                const subscriptionRevenue = mockLine(revenueDays, 49, 12); // 总收入
                
                const revenueOption = {
                    backgroundColor: 'transparent',
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'line'
                        },
                        formatter: function(params) {
                            let result = params[0].name + '<br/>';
                            params.forEach(function(item) {
                                result += '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + item.color + ';"></span>';
                                result += item.seriesName + ': ' + item.value + '万元<br/>';
                            });
                            return result;
                        }
                    },
                    legend: {
                        data: ['总收入', '礼物收入', 'IP合作', '总收入'],
                        textStyle: {
                            color: '#FFFFFF'
                        },
                        top: 10
                    },
                    grid: {
                        left: 40,
                        right: 30,
                        top: 50,
                        bottom: 30
                    },
                    xAxis: {
                        type: 'category',
                        data: revenueLabels,
                        boundaryGap: false,
                        axisLine: {
                            lineStyle: {
                                color: '#4E5969'
                            }
                        },
                        axisTick: {
                            show: false
                        },
                        axisLabel: {
                            color: '#C9CDD4'
                        }
                    },
                    yAxis: {
                        type: 'value',
                        axisLine: {
                            lineStyle: {
                                color: '#4E5969'
                            }
                        },
                        axisTick: {
                            show: false
                        },
                        axisLabel: {
                            color: '#C9CDD4',
                            formatter: '{value}万'
                        },
                        splitLine: {
                            lineStyle: {
                                color: '#3A3F47',
                                type: 'dashed'
                            }
                        }
                    },
                    series: [
                        {
                            name: '总收入',
                            type: 'line',
                            smooth: true,
                            symbol: 'circle',
                            symbolSize: 6,
                            itemStyle: {
                                color: '#165DFF'
                            },
                            lineStyle: {
                                width: 3
                            },
                            areaStyle: {
                                color: {
                                    type: 'linear',
                                    x: 0,
                                    y: 0,
                                    x2: 0,
                                    y2: 1,
                                    colorStops: [{
                                        offset: 0, color: 'rgba(22, 93, 255, 0.3)'
                                    }, {
                                        offset: 1, color: 'rgba(22, 93, 255, 0.05)'
                                    }]
                                }
                            },
                            emphasis: {
                                focus: 'series'
                            },
                            data: subscriptionRevenue
                        },
                        {
                            name: '礼物收入',
                            type: 'line',
                            smooth: true,
                            symbol: 'circle',
                            symbolSize: 4,
                            itemStyle: {
                                color: '#00D2FF'
                            },
                            lineStyle: {
                                width: 2
                            },
                            emphasis: {
                                focus: 'series'
                            },
                            data: giftRevenue
                        },
                        {
                            name: 'IP合作',
                            type: 'line',
                            smooth: true,
                            symbol: 'circle',
                            symbolSize: 4,
                            itemStyle: {
                                color: '#F7BA1E'
                            },
                            lineStyle: {
                                width: 2
                            },
                            emphasis: {
                                focus: 'series'
                            },
                            data: adRevenue
                        }
                    ]
                };
                
                revenueChart.setOption(revenueOption);
                
                // 响应式处理
                window.addEventListener('resize', function() {
                    revenueChart.resize();
                });
            }

            // 响应式处理
            window.addEventListener('resize', function() {
                heatExposureChart.resize();
                streamingBarChart.resize();
            });
        }

    </script>
<script src="js/common.js"></script>
</body>
</html>

